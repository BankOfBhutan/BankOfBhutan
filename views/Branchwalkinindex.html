<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Branch Walk-In Customer Service Queue System</title>
    <!-- Bootstrap CSS -->
    <link rel="icon" type="image/x-icon" href="img/android-chrome-512x512.png"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/walkincss/index.css">
    <style>
        .alert {
            position: fixed;
            top: -50px; 
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 400px; 
            padding: 10px 15px; 
            z-index: 9999;
            text-align: center;
            transition: top 0.5s ease-in-out;
            font-size: 14px; 
            display: none;
        }

        .alert-primary {
            background-color: #13A4DD;
            color: white;
        }

        .alert-danger {
            background-color: #f44336;
            color: white;
        }

        /* Styling for the close button */
        .btn-close {
            filter: invert(21%) sepia(100%) saturate(7476%) hue-rotate(358deg) brightness(115%) contrast(108%);
            outline: none;
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
</head>

<body class="blue-background">
    <!-- Success and Error Messages -->
    <div id="successMessage" class="alert alert-primary" role="alert"></div>
    <div id="errorMessage" class="alert alert-danger" role="alert"></div>

    <!-- Header -->
    <div class="container-fluid bg-white py-3 shadow-sm header-container">
        <div class="row align-items-center">
            <div class="col-auto">
                <img src="./image/BOB.png" alt="Bank of Bhutan Logo" class="logo">
            </div>
            <div class="col">
                <h2 class="m-0" style="font-weight: bold !important;">Branch Walk-In Customer Service Queue System</h2>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mt-4">
        <div class="row justify-content-center align-items-stretch row-full-height">
            <div class="col-md-12">
                <!-- Bordered Container with Flat and Extended Height -->
                <div class="border border-flat p-4 bg-white position-relative">
                    <!-- Close Button -->
                    <button class="btn-close position-absolute" aria-label="Close"></button>

                    <div class="row row-full-height">
                        <!-- Left Column: Token Generator (Adjusted Width) -->
                        <div class="col-md-6 form-container">
                            <div class="d-grid gap-3 w-100">
                                <h3 class="mb-4 text-start">Online Token Generator</h3>
                                <p class="text-start">Please select the service you want to avail.</p>
                                <button class="btn btn-main btn-lg" onclick="window.location.href='/email?service=Dollar Selling/FC Transfer/Travel Agent/CBC';">Dollar Selling/FC Transfer/Travel Agent/CBC</button>
                                <button class="btn btn-main btn-lg" onclick="window.location.href='/email?service=ATS/DSA';">ATS/DSA</button>
                                <button class="btn btn-main btn-lg" onclick="window.location.href='/email?service=Cash%20(Deposit/Withdraw)';">Cash (Deposit/Withdraw)</button>
                                <button class="btn btn-main btn-lg" onclick="window.location.href='/email?service=SWIFT';">SWIFT</button>
                                <button class="btn btn-main btn-lg" onclick="window.location.href='/email?service=RTGS';">RTGS</button>


                                <!-- <button class="btn btn-main btn-lg" onclick="validateTimeAndRequestToken('/email?service=Dollar Selling/FC Transfer/Travel Agent/CBC')">Dollar Selling/FC Transfer/Travel Agent/CBC</button>
                                <button class="btn btn-main btn-lg" onclick="validateTimeAndRequestToken('/email?service=ATS/DSA')">ATS/DSA</button>
                                <button class="btn btn-main btn-lg" onclick="validateTimeAndRequestToken('/SWIFT1.html?service=SWIFT')">SWIFT</button>
                                <button class="btn btn-main btn-lg" onclick="validateTimeAndRequestToken('/Optional_message_form.html?service=Cash (Deposit/Withdraw)')">Cash (Deposit/Withdraw)</button>
                                <button class="btn btn-main btn-lg" onclick="validateTimeAndRequestToken('/RTGS.html?service=RTGS')">RTGS</button>   -->
                            </div>
                        </div>

                        <!-- Right Column: Image -->
                        <div class="col-md-6 image-container">
                            <img src="image/Banner-Image.png" alt="Online Banking">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="mt-4 py-4 footer-custom">
        <div class="container">
            <p>&copy; 2024 <a href="#" class="text-decoration-none" style="color: #00A7E3;">Bank of Bhutan</a>. All Rights Reserved.</p>
        </div>
    </footer>
    <script>
        // Close button functionality: Redirect to home page or cancel action
        document.querySelector('.btn-close').addEventListener('click', function () {
            window.location.href = '/';
        });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script>
        // Show success message
        function showSuccess(message) {
            const successMessage = document.getElementById('successMessage');
            successMessage.textContent = message;
            successMessage.style.display = 'block';
            successMessage.style.top = '20px';
            setTimeout(() => {
                successMessage.style.top = '-100px';
            }, 5000);
        }

        // Show error message
        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
            errorMessage.style.top = '20px';
            setTimeout(() => {
                errorMessage.style.top = '-100px';
            }, 5000);
        }

        function validateTimeAndRequestToken(url) {
            // Get the current time and day
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinutes = now.getMinutes();
            const currentDay = now.getDay();  // Sunday = 0, Monday = 1, ..., Saturday = 6

            // Check if it's Sunday (day 0)
            // if (currentDay === 0) {
            //     showError("Token requests are not available on Sundays. Please try again on a working day.");
            //     return;
            // }


            // Check if the current time is between 8:40 AM and  8:30 AM
            const officeStartHour = 10;
            const officeStartMinutes = 40;
            const officeEndHour = 15;
            const officeEndMinutes = 35;

            if (
                (currentHour < officeStartHour || (currentHour === officeStartHour && currentMinutes < officeStartMinutes)) ||
                (currentHour > officeEndHour || (currentHour === officeEndHour && currentMinutes > officeEndMinutes))
            ) {
                showError("Token requests are allowed only between 10:40 AM and 3:35 PM. Please try again within office hours.");
                // showError("Token requests are allowed only between 8:40 AM and 3:30 PM. Please try again within office hours.");
            } else {
                // If the time is valid, redirect to the service URL and show success message
                // showSuccess("Token request is successful. Redirecting...");
                setTimeout(() => {
                    window.location.href = url;
                }, 3000); 
            }
        }
    </script>
</body>
</html>



